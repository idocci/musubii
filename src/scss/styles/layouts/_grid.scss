//----------------------------------------------------
// Layouts: Grid
//----------------------------------------------------

//----------------------------------------------------
// / Variables (Default)
//----------------------------------------------------

// Option
$option-mixin-mode: false !default;
$option-style-grid: true !default;

// Selectors
$selector-grid: ".grid" !default;
$selector-column: ".column" !default;

// Gap Size
$gap-size-xxl: $space-xxl !default;
$gap-size-xl: $space-xl !default;
$gap-size-lg: $space-lg !default;
$gap-size-md: $space-md !default;
$gap-size-sm: $space-sm !default;
$gap-size-xs: $space-xs !default;
$gap-size-xxs: $space-xxs !default;

//----------------------------------------------------
// / Mixins (Default)
//----------------------------------------------------

// Export Style
@mixin export-style-grid() {
  @if $option-mixin-mode == false and $option-style-grid == true {
    @content;
  }
}

//----------------------------------------------------
// / Style - Grid
//----------------------------------------------------

@mixin musubii-style-grid() {
  display: flex;
  flex-wrap: wrap;
  &.is-baseline {
    align-items: baseline;
  }
  &.is-middle {
    align-items: center;
  }
  &.is-bottom {
    align-items: flex-end;
  }
  &.is-center {
    justify-content: center;
  }
  &.is-right {
    justify-content: flex-end;
  }
  &.is-between {
    justify-content: space-between;
  }
  &.is-around {
    justify-content: space-around;
  }
  &.is-reverse {
    flex-direction: row-reverse;
  }
  &.is-stretch {
    > {
      #{$selector-column} {
        display: flex;
      }
    }
  }
}

@include export-style-grid() {
  #{$selector-grid} {
    @include musubii-style-grid();
  }
}

//----------------------------------------------------
// / Style - Grid Gap
//----------------------------------------------------

@mixin --is-gap-all($name, $value, $child-selector, $omit) {
  @if $omit == true {
    &.is-gap,
    &.is-gap-#{$name} {
      margin-left: -$value;
      margin-bottom: -$value;
      > {
        #{$child-selector} {
          padding-left: $value;
          padding-bottom: $value;
        }
      }
    }
  } @else {
    &.is-gap-#{$name} {
      margin-left: -$value;
      margin-bottom: -$value;
      > {
        #{$child-selector} {
          padding-left: $value;
          padding-bottom: $value;
        }
      }
    }
  }
}

@mixin musubii-style-grid-gap-all() {
  @include --is-gap-all(xxl, $gap-size-xxl, $selector-column, false);
  @include --is-gap-all(xl, $gap-size-xl, $selector-column, false);
  @include --is-gap-all(lg, $gap-size-lg, $selector-column, false);
  @include --is-gap-all(md, $gap-size-md, $selector-column, true);
  @include --is-gap-all(sm, $gap-size-sm, $selector-column, false);
  @include --is-gap-all(xs, $gap-size-xs, $selector-column, false);
  @include --is-gap-all(xxs, $gap-size-xxs, $selector-column, false);
}

@include export-style-grid() {
  #{$selector-grid} {
    @include musubii-style-grid-gap-all();
  }
}

//----------------------------------------------------

@mixin --is-gap-row($name, $value, $child-selector, $omit) {
  @if $omit == true {
    &.is-gap-row,
    &.is-gap-row-#{$name} {
      margin-bottom: -$value;
      > {
        #{$child-selector} {
          padding-bottom: $value;
        }
      }
    }
  } @else {
    &.is-gap-row-#{$name} {
      margin-bottom: -$value;
      > {
        #{$child-selector} {
          padding-bottom: $value;
        }
      }
    }
  }
}

@mixin musubii-style-grid-gap-row() {
  @include --is-gap-row(xxl, $gap-size-xxl, $selector-column, false);
  @include --is-gap-row(xl, $gap-size-xl, $selector-column, false);
  @include --is-gap-row(lg, $gap-size-lg, $selector-column, false);
  @include --is-gap-row(md, $gap-size-md, $selector-column, true);
  @include --is-gap-row(sm, $gap-size-sm, $selector-column, false);
  @include --is-gap-row(xs, $gap-size-xs, $selector-column, false);
  @include --is-gap-row(xxs, $gap-size-xxs, $selector-column, false);
}

@include export-style-grid() {
  #{$selector-grid} {
    @include musubii-style-grid-gap-row();
  }
}

//----------------------------------------------------

@mixin --is-gap-column($name, $value, $child-selector, $omit) {
  @if $omit == true {
    &.is-gap-column,
    &.is-gap-column-#{$name} {
      margin-left: -$value;
      > {
        #{$child-selector} {
          padding-left: $value;
        }
      }
    }
  } @else {
    &.is-gap-column-#{$name} {
      margin-left: -$value;
      > {
        #{$child-selector} {
          padding-left: $value;
        }
      }
    }
  }
}

@mixin musubii-style-grid-gap-column() {
  @include --is-gap-column(xxl, $gap-size-xxl, $selector-column, false);
  @include --is-gap-column(xl, $gap-size-xl, $selector-column, false);
  @include --is-gap-column(lg, $gap-size-lg, $selector-column, false);
  @include --is-gap-column(md, $gap-size-md, $selector-column, true);
  @include --is-gap-column(sm, $gap-size-sm, $selector-column, false);
  @include --is-gap-column(xs, $gap-size-xs, $selector-column, false);
  @include --is-gap-column(xxs, $gap-size-xxs, $selector-column, false);
}

@include export-style-grid() {
  #{$selector-grid} {
    @include musubii-style-grid-gap-column();
  }
}
